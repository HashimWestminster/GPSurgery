{"ast":null,"code":"import { mergeConfigs } from '../../common/index.mjs';\nimport { normaliseDataset } from '../../common/normalise-dataset.mjs';\nimport '../../vendor/polyfills/Event.mjs';\nimport '../../vendor/polyfills/Function/prototype/bind.mjs';\n\n/* eslint-disable es-x/no-function-prototype-bind -- Polyfill imported */\n\nvar KEY_SPACE = 32;\nvar DEBOUNCE_TIMEOUT_IN_SECONDS = 1;\n\n/**\n * JavaScript enhancements for the Button component\n *\n * @class\n * @param {Element} $module - HTML element to use for button\n * @param {ButtonConfig} [config] - Button config\n */\nfunction Button($module, config) {\n  if (!($module instanceof HTMLElement)) {\n    return this;\n  }\n\n  /** @deprecated Will be made private in v5.0 */\n  this.$module = $module;\n\n  /** @deprecated Will be made private in v5.0 */\n  this.debounceFormSubmitTimer = null;\n  var defaultConfig = {\n    preventDoubleClick: false\n  };\n\n  /**\n   * @deprecated Will be made private in v5.0\n   * @type {ButtonConfig}\n   */\n  this.config = mergeConfigs(defaultConfig, config || {}, normaliseDataset($module.dataset));\n}\n\n/**\n * Initialise component\n */\nButton.prototype.init = function () {\n  // Check that required elements are present\n  if (!this.$module) {\n    return;\n  }\n  this.$module.addEventListener('keydown', this.handleKeyDown);\n  this.$module.addEventListener('click', this.debounce.bind(this));\n};\n\n/**\n * Trigger a click event when the space key is pressed\n *\n * Some screen readers tell users they can activate things with the 'button'\n * role, so we need to match the functionality of native HTML buttons\n *\n * See https://github.com/alphagov/govuk_elements/pull/272#issuecomment-233028270\n *\n * @deprecated Will be made private in v5.0\n * @param {KeyboardEvent} event - Keydown event\n */\nButton.prototype.handleKeyDown = function (event) {\n  var $target = event.target;\n\n  // Handle space bar only\n  if (event.keyCode !== KEY_SPACE) {\n    return;\n  }\n\n  // Handle elements with [role=\"button\"] only\n  if ($target instanceof HTMLElement && $target.getAttribute('role') === 'button') {\n    event.preventDefault(); // prevent the page from scrolling\n    $target.click();\n  }\n};\n\n/**\n * Debounce double-clicks\n *\n * If the click quickly succeeds a previous click then nothing will happen. This\n * stops people accidentally causing multiple form submissions by double\n * clicking buttons.\n *\n * @deprecated Will be made private in v5.0\n * @param {MouseEvent} event - Mouse click event\n * @returns {undefined | false} Returns undefined, or false when debounced\n */\nButton.prototype.debounce = function (event) {\n  // Check the button that was clicked has preventDoubleClick enabled\n  if (!this.config.preventDoubleClick) {\n    return;\n  }\n\n  // If the timer is still running, prevent the click from submitting the form\n  if (this.debounceFormSubmitTimer) {\n    event.preventDefault();\n    return false;\n  }\n  this.debounceFormSubmitTimer = setTimeout(function () {\n    this.debounceFormSubmitTimer = null;\n  }.bind(this), DEBOUNCE_TIMEOUT_IN_SECONDS * 1000);\n};\n\n/**\n * Button config\n *\n * @typedef {object} ButtonConfig\n * @property {boolean} [preventDoubleClick = false] - Prevent accidental double\n *   clicks on submit buttons from submitting forms multiple times.\n */\n\nexport default Button;","map":{"version":3,"names":["mergeConfigs","normaliseDataset","KEY_SPACE","DEBOUNCE_TIMEOUT_IN_SECONDS","Button","$module","config","HTMLElement","debounceFormSubmitTimer","defaultConfig","preventDoubleClick","dataset","prototype","init","addEventListener","handleKeyDown","debounce","bind","event","$target","target","keyCode","getAttribute","preventDefault","click","setTimeout"],"sources":["C:/Users/thami/Documents/21W- Local Software Dev Group Project/medicalRecordsV2/node_modules/govuk-frontend/govuk-esm/components/button/button.mjs"],"sourcesContent":["import { mergeConfigs } from '../../common/index.mjs';\nimport { normaliseDataset } from '../../common/normalise-dataset.mjs';\nimport '../../vendor/polyfills/Event.mjs';\nimport '../../vendor/polyfills/Function/prototype/bind.mjs';\n\n/* eslint-disable es-x/no-function-prototype-bind -- Polyfill imported */\n\nvar KEY_SPACE = 32;\nvar DEBOUNCE_TIMEOUT_IN_SECONDS = 1;\n\n/**\n * JavaScript enhancements for the Button component\n *\n * @class\n * @param {Element} $module - HTML element to use for button\n * @param {ButtonConfig} [config] - Button config\n */\nfunction Button ($module, config) {\n  if (!($module instanceof HTMLElement)) {\n    return this\n  }\n\n  /** @deprecated Will be made private in v5.0 */\n  this.$module = $module;\n\n  /** @deprecated Will be made private in v5.0 */\n  this.debounceFormSubmitTimer = null;\n\n  var defaultConfig = {\n    preventDoubleClick: false\n  };\n\n  /**\n   * @deprecated Will be made private in v5.0\n   * @type {ButtonConfig}\n   */\n  this.config = mergeConfigs(\n    defaultConfig,\n    config || {},\n    normaliseDataset($module.dataset)\n  );\n}\n\n/**\n * Initialise component\n */\nButton.prototype.init = function () {\n  // Check that required elements are present\n  if (!this.$module) {\n    return\n  }\n\n  this.$module.addEventListener('keydown', this.handleKeyDown);\n  this.$module.addEventListener('click', this.debounce.bind(this));\n};\n\n/**\n * Trigger a click event when the space key is pressed\n *\n * Some screen readers tell users they can activate things with the 'button'\n * role, so we need to match the functionality of native HTML buttons\n *\n * See https://github.com/alphagov/govuk_elements/pull/272#issuecomment-233028270\n *\n * @deprecated Will be made private in v5.0\n * @param {KeyboardEvent} event - Keydown event\n */\nButton.prototype.handleKeyDown = function (event) {\n  var $target = event.target;\n\n  // Handle space bar only\n  if (event.keyCode !== KEY_SPACE) {\n    return\n  }\n\n  // Handle elements with [role=\"button\"] only\n  if ($target instanceof HTMLElement && $target.getAttribute('role') === 'button') {\n    event.preventDefault(); // prevent the page from scrolling\n    $target.click();\n  }\n};\n\n/**\n * Debounce double-clicks\n *\n * If the click quickly succeeds a previous click then nothing will happen. This\n * stops people accidentally causing multiple form submissions by double\n * clicking buttons.\n *\n * @deprecated Will be made private in v5.0\n * @param {MouseEvent} event - Mouse click event\n * @returns {undefined | false} Returns undefined, or false when debounced\n */\nButton.prototype.debounce = function (event) {\n  // Check the button that was clicked has preventDoubleClick enabled\n  if (!this.config.preventDoubleClick) {\n    return\n  }\n\n  // If the timer is still running, prevent the click from submitting the form\n  if (this.debounceFormSubmitTimer) {\n    event.preventDefault();\n    return false\n  }\n\n  this.debounceFormSubmitTimer = setTimeout(function () {\n    this.debounceFormSubmitTimer = null;\n  }.bind(this), DEBOUNCE_TIMEOUT_IN_SECONDS * 1000);\n};\n\n/**\n * Button config\n *\n * @typedef {object} ButtonConfig\n * @property {boolean} [preventDoubleClick = false] - Prevent accidental double\n *   clicks on submit buttons from submitting forms multiple times.\n */\n\nexport default Button;\n//# sourceMappingURL=components/button/button.mjs.map\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,wBAAwB;AACrD,SAASC,gBAAgB,QAAQ,oCAAoC;AACrE,OAAO,kCAAkC;AACzC,OAAO,oDAAoD;;AAE3D;;AAEA,IAAIC,SAAS,GAAG,EAAE;AAClB,IAAIC,2BAA2B,GAAG,CAAC;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,MAAMA,CAAEC,OAAO,EAAEC,MAAM,EAAE;EAChC,IAAI,EAAED,OAAO,YAAYE,WAAW,CAAC,EAAE;IACrC,OAAO,IAAI;EACb;;EAEA;EACA,IAAI,CAACF,OAAO,GAAGA,OAAO;;EAEtB;EACA,IAAI,CAACG,uBAAuB,GAAG,IAAI;EAEnC,IAAIC,aAAa,GAAG;IAClBC,kBAAkB,EAAE;EACtB,CAAC;;EAED;AACF;AACA;AACA;EACE,IAAI,CAACJ,MAAM,GAAGN,YAAY,CACxBS,aAAa,EACbH,MAAM,IAAI,CAAC,CAAC,EACZL,gBAAgB,CAACI,OAAO,CAACM,OAAO,CAAC,CAClC;AACH;;AAEA;AACA;AACA;AACAP,MAAM,CAACQ,SAAS,CAACC,IAAI,GAAG,YAAY;EAClC;EACA,IAAI,CAAC,IAAI,CAACR,OAAO,EAAE;IACjB;EACF;EAEA,IAAI,CAACA,OAAO,CAACS,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACC,aAAa,CAAC;EAC5D,IAAI,CAACV,OAAO,CAACS,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACE,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;AAClE,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAb,MAAM,CAACQ,SAAS,CAACG,aAAa,GAAG,UAAUG,KAAK,EAAE;EAChD,IAAIC,OAAO,GAAGD,KAAK,CAACE,MAAM;;EAE1B;EACA,IAAIF,KAAK,CAACG,OAAO,KAAKnB,SAAS,EAAE;IAC/B;EACF;;EAEA;EACA,IAAIiB,OAAO,YAAYZ,WAAW,IAAIY,OAAO,CAACG,YAAY,CAAC,MAAM,CAAC,KAAK,QAAQ,EAAE;IAC/EJ,KAAK,CAACK,cAAc,EAAE,CAAC,CAAC;IACxBJ,OAAO,CAACK,KAAK,EAAE;EACjB;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACApB,MAAM,CAACQ,SAAS,CAACI,QAAQ,GAAG,UAAUE,KAAK,EAAE;EAC3C;EACA,IAAI,CAAC,IAAI,CAACZ,MAAM,CAACI,kBAAkB,EAAE;IACnC;EACF;;EAEA;EACA,IAAI,IAAI,CAACF,uBAAuB,EAAE;IAChCU,KAAK,CAACK,cAAc,EAAE;IACtB,OAAO,KAAK;EACd;EAEA,IAAI,CAACf,uBAAuB,GAAGiB,UAAU,CAAC,YAAY;IACpD,IAAI,CAACjB,uBAAuB,GAAG,IAAI;EACrC,CAAC,CAACS,IAAI,CAAC,IAAI,CAAC,EAAEd,2BAA2B,GAAG,IAAI,CAAC;AACnD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}