{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thami\\\\Documents\\\\21W- Local Software Dev Group Project\\\\medicalRecordsV2\\\\src\\\\Components\\\\MyUpdateButton.js\",\n  _s = $RefreshSig$();\nimport jq from 'jquery';\nimport React, { useState, useEffect, useContext } from 'react';\nimport { CurrentContext } from '../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MyUpdateButton(props) {\n  _s();\n  const currentContext = useContext(CurrentContext);\n  function handleUpdate() {\n    const url_updateMedicalRecords = 'http://localhost:4000/updateMedicalRecordsPdo.php';\n    jq.ajax({\n      type: 'POST',\n      url: url_updateMedicalRecords,\n      data: {\n        nhsNumber: currentContext.medicalRecord.NHSNumber,\n        forename: props.forename,\n        surname: props.surname,\n        personDOB: props.personDOB,\n        genderCode: props.genderCode,\n        postcode: props.postcode\n      },\n      success: function (data, textStatus, xhr) {\n        if (data === 'failed') {\n          console.error('Update failed');\n        } else {\n          const updatedRecord = JSON.parse(data);\n          currentContext.setMedicalRecord(updatedRecord);\n        }\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      id: \"submitButton\",\n      onClick: () => handleUpdate(props),\n      children: \" Update \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), currentContext.medicalRecord && /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n        children: \"Medical Record \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Forename:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 24\n        }, this), \" \", currentContext.medicalRecord.Forename, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Surname:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 24\n        }, this), \" \", currentContext.medicalRecord.Surname, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"NHS Number:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 24\n        }, this), \" \", currentContext.medicalRecord.NHSNumber, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"PersonDOB:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 24\n        }, this), \" \", currentContext.medicalRecord.PersonDOB, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"GenderCode:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 24\n        }, this), \" \", currentContext.medicalRecord.GenderCode, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Postcode:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 24\n        }, this), \" \", currentContext.medicalRecord.Postcode, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}\n_s(MyUpdateButton, \"kfE+Mm4CXRMTuS4+N/9QPFGSsmU=\");\n_c = MyUpdateButton;\nexport default MyUpdateButton;\nvar _c;\n$RefreshReg$(_c, \"MyUpdateButton\");","map":{"version":3,"names":["jq","React","useState","useEffect","useContext","CurrentContext","jsxDEV","_jsxDEV","Fragment","_Fragment","MyUpdateButton","props","_s","currentContext","handleUpdate","url_updateMedicalRecords","ajax","type","url","data","nhsNumber","medicalRecord","NHSNumber","forename","surname","personDOB","genderCode","postcode","success","textStatus","xhr","console","error","updatedRecord","JSON","parse","setMedicalRecord","children","Button","id","onClick","fileName","_jsxFileName","lineNumber","columnNumber","Forename","Surname","PersonDOB","GenderCode","Postcode","_c","$RefreshReg$"],"sources":["C:/Users/thami/Documents/21W- Local Software Dev Group Project/medicalRecordsV2/src/Components/MyUpdateButton.js"],"sourcesContent":["\r\nimport jq from 'jquery';\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { CurrentContext } from '../App';\r\n\r\nfunction MyUpdateButton(props) {\r\n    const currentContext = useContext(CurrentContext);\r\n\r\n    function handleUpdate() {\r\n        const url_updateMedicalRecords = 'http://localhost:4000/updateMedicalRecordsPdo.php';\r\n\r\n        jq.ajax({\r\n            type: 'POST',\r\n            url: url_updateMedicalRecords,\r\n            data: {\r\n                nhsNumber: currentContext.medicalRecord.NHSNumber,\r\n                forename: props.forename,\r\n                surname: props.surname,\r\n                personDOB: props.personDOB,\r\n                genderCode: props.genderCode,\r\n                postcode: props.postcode,\r\n            },\r\n            success: function (data, textStatus, xhr) {\r\n                if (data === 'failed') {\r\n                    console.error('Update failed');\r\n                } else {\r\n                    const updatedRecord = JSON.parse(data);\r\n                    currentContext.setMedicalRecord(updatedRecord);\r\n                }\r\n            },\r\n        });\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Button id=\"submitButton\" onClick={() => handleUpdate(props)}> Update </Button>\r\n            {currentContext.medicalRecord && (\r\n                <fieldset>\r\n                    <legend>Medical Record </legend>\r\n                    <p><strong>Forename:</strong> {currentContext.medicalRecord.Forename} </p>\r\n                    <p><strong>Surname:</strong> {currentContext.medicalRecord.Surname} </p>\r\n                    <p><strong>NHS Number:</strong> {currentContext.medicalRecord.NHSNumber} </p>\r\n                    <p><strong>PersonDOB:</strong> {currentContext.medicalRecord.PersonDOB} </p>\r\n                    <p><strong>GenderCode:</strong> {currentContext.medicalRecord.GenderCode} </p>\r\n                    <p><strong>Postcode:</strong> {currentContext.medicalRecord.Postcode} </p>\r\n                    {/* Add other fields from the medical record */}\r\n                </fieldset>\r\n            )}\r\n        </>\r\n\r\n    );\r\n}\r\nexport default MyUpdateButton;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}