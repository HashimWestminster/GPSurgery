{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thami\\\\Documents\\\\21W- Local Software Dev Group Project\\\\medicalRecordsV2\\\\src\\\\Components\\\\Pages\\\\UpdateMedicalRecordsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { LabelText } from 'govuk-react';\nimport MyFooter from './MyFooter';\nimport MyHeader from './MyHeader';\nimport MyUpdateButton from '../MyUpdateButton';\nimport { Button } from 'govuk-react';\nimport { CurrentContext } from '../../App';\nimport jq from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction UpdateMedicalRecordsPage() {\n  _s();\n  const currentContext = useContext(CurrentContext);\n  const [forename, setForename] = useState('');\n  const [surname, setSurname] = useState('');\n  const [personDOB, setPersonDOB] = useState('');\n  const [genderCode, setGenderCode] = useState('');\n  const [postcode, setPostcode] = useState('');\n  function handleUpdate() {\n    var url_updateMedicalRecords = 'http://localhost:4000/updateMedicalRecordsPdo.php';\n    jq.ajax({\n      type: \"POST\",\n      url: url_updateMedicalRecords,\n      data: {\n        nhsNumber: currentContext.medicalRecord.NHSNumber,\n        forename: forename,\n        surname: surname,\n        personDOB: personDOB,\n        genderCode: genderCode,\n        postcode: postcode\n      },\n      success: function (data, textStatus, xhr) {\n        console.log(\"Raw server response:\", xhr.responseText);\n        props.callback(json[0].NHSNumber); //change NHSnumber to nhsNumber depending on the right dB\n        props.callback(json[2].Surname);\n        props.callback(json[3].PersonDOB);\n        props.callback(json[4].GenderCode);\n        props.callback(json[5].Postcode);\n        currentContext.setMedicalRecord(json[0]);\n      }\n    });\n  }\n  function handleCallBack(myNhsNumber) {\n    setNhsNumber(myNhsNumber);\n  }\n  function onChangeCapture(e) {\n    setNhsNumber(e.target.value);\n  }\n  function handleChangeForename(e) {\n    setForename(e.target.value);\n  }\n  function handleChangeSurname(e) {\n    setSurname(e.target.value);\n  }\n  function handleChangePersonDOB(e) {\n    setPersonDOB(e.target.value);\n  }\n  function handleChangeGenderCode(e) {\n    setGenderCode(e.target.value);\n  }\n  function handleChangePostcode(e) {\n    setPostcode(e.target.value);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MyHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LabelText, {\n      children: \"Forename:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: forename,\n      onChange: handleChangeForename\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LabelText, {\n      children: \"Surname:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: surname,\n      onChange: handleChangeSurname\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LabelText, {\n      children: \"Person DOB:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: personDOB,\n      onChange: handleChangePersonDOB\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LabelText, {\n      children: \"Gender Code:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: genderCode,\n      onChange: handleChangeGenderCode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LabelText, {\n      children: \"Postcode:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: postcode,\n      onChange: handleChangePostcode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleUpdate,\n      children: \"Update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MyFooter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(UpdateMedicalRecordsPage, \"18d74COSkGIszFyXIbBvD/qvITM=\");\n_c = UpdateMedicalRecordsPage;\nexport default UpdateMedicalRecordsPage;\nvar _c;\n$RefreshReg$(_c, \"UpdateMedicalRecordsPage\");","map":{"version":3,"names":["React","useState","useContext","LabelText","MyFooter","MyHeader","MyUpdateButton","Button","CurrentContext","jq","jsxDEV","_jsxDEV","Fragment","_Fragment","UpdateMedicalRecordsPage","_s","currentContext","forename","setForename","surname","setSurname","personDOB","setPersonDOB","genderCode","setGenderCode","postcode","setPostcode","handleUpdate","url_updateMedicalRecords","ajax","type","url","data","nhsNumber","medicalRecord","NHSNumber","success","textStatus","xhr","console","log","responseText","props","callback","json","Surname","PersonDOB","GenderCode","Postcode","setMedicalRecord","handleCallBack","myNhsNumber","setNhsNumber","onChangeCapture","e","target","value","handleChangeForename","handleChangeSurname","handleChangePersonDOB","handleChangeGenderCode","handleChangePostcode","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onClick","_c","$RefreshReg$"],"sources":["C:/Users/thami/Documents/21W- Local Software Dev Group Project/medicalRecordsV2/src/Components/Pages/UpdateMedicalRecordsPage.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { LabelText } from 'govuk-react';\r\nimport MyFooter from './MyFooter';\r\nimport MyHeader from './MyHeader';\r\nimport MyUpdateButton from '../MyUpdateButton';\r\nimport { Button } from 'govuk-react';\r\nimport { CurrentContext } from '../../App';\r\nimport jq from 'jquery';\r\n\r\nfunction UpdateMedicalRecordsPage() {\r\n    const currentContext = useContext(CurrentContext);\r\n    const [forename, setForename] = useState('');\r\n    const [surname, setSurname] = useState('');\r\n    const [personDOB, setPersonDOB] = useState('');\r\n    const [genderCode, setGenderCode] = useState('');\r\n    const [postcode, setPostcode] = useState('');\r\n\r\n    function handleUpdate() {\r\n        var url_updateMedicalRecords = 'http://localhost:4000/updateMedicalRecordsPdo.php';\r\n\r\n        jq.ajax({\r\n            type: \"POST\",\r\n            url: url_updateMedicalRecords,\r\n            data: {\r\n                nhsNumber: currentContext.medicalRecord.NHSNumber,\r\n                forename: forename,\r\n                surname: surname,\r\n                personDOB: personDOB,\r\n                genderCode: genderCode,\r\n                postcode: postcode\r\n            },\r\n\r\n            success: function (data, textStatus, xhr) {\r\n                console.log(\"Raw server response:\", xhr.responseText);\r\n                props.callback(json[0].NHSNumber);    //change NHSnumber to nhsNumber depending on the right dB\r\n                props.callback(json[2].Surname);\r\n                props.callback(json[3].PersonDOB);\r\n                props.callback(json[4].GenderCode);\r\n                props.callback(json[5].Postcode);\r\n                currentContext.setMedicalRecord(json[0]);\r\n            }\r\n        });\r\n    }\r\n    \r\n\r\n\r\n    function handleCallBack(myNhsNumber) {\r\n        setNhsNumber(myNhsNumber);\r\n    }\r\n\r\n\r\n    function onChangeCapture(e) {\r\n        setNhsNumber(e.target.value);\r\n    }\r\n    function handleChangeForename(e) {\r\n        setForename(e.target.value);\r\n    }\r\n\r\n    function handleChangeSurname(e) {\r\n        setSurname(e.target.value);\r\n    }\r\n\r\n    function handleChangePersonDOB(e) {\r\n        setPersonDOB(e.target.value);\r\n    }\r\n\r\n    function handleChangeGenderCode(e) {\r\n        setGenderCode(e.target.value);\r\n    }\r\n\r\n    function handleChangePostcode(e) {\r\n        setPostcode(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <MyHeader />\r\n\r\n            <LabelText>Forename:</LabelText>\r\n            <input type=\"text\" value={forename} onChange={handleChangeForename} />\r\n            <br />\r\n            <LabelText>Surname:</LabelText>\r\n            <input type=\"text\" value={surname} onChange={handleChangeSurname} />\r\n            <br />\r\n            <LabelText>Person DOB:</LabelText>\r\n            <input type=\"text\" value={personDOB} onChange={handleChangePersonDOB} />\r\n            <br />\r\n            <LabelText>Gender Code:</LabelText>\r\n            <input type=\"text\" value={genderCode} onChange={handleChangeGenderCode} />\r\n            <br />\r\n            <LabelText>Postcode:</LabelText>\r\n            <input type=\"text\" value={postcode} onChange={handleChangePostcode} />\r\n            <br />\r\n            <Button onClick={handleUpdate}>Update</Button>\r\n            <MyFooter />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default UpdateMedicalRecordsPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}